/**
 * @modified $Author$
 * @version $Rev$
 */
!function($){require.config({enable_ozma:true});define("tui/class",[],function(){function e(){return function(){if(this.initialize)this.initialize.apply(this,arguments)}}function t(t,n){var r=this;var i=e();$.extend(i,r,n);var a=Object.create(r.prototype);a.constructor=i;i.prototype=a;$.extend(i.prototype,t);i.superClass=r.prototype;return i}var n=function(n){var r=e();$.extend(r.prototype,n);r.extend=t;return r};n.extend=t;return n});define("tui/event",["tui/class"],function(e){var t=e({initialize:function(){this.__event=window.Zepto?new window.Zepto.Events:$({})}});var n=t.prototype;["bind","one"].forEach(function(e){n[e]=function(t,n,r){if($.isPlainObject(t))for(var i in t)this[e](i,t[i]);else{var a=this.__event;var o=function(){return n.apply(r||a,arguments.length>0?window.Zepto?arguments:Array.prototype.slice.call(arguments,1):[])};a[e].call(a,t,o);n.guid=o.guid}return this}});["unbind","trigger","triggerHandler"].forEach(function(e){n[e]=function(){var t=this.__event;if(require.debug)console.log("[event] "+this.constructor.__mid+" : "+arguments[0],arguments[1]);var n=t[e].apply(t,arguments);if(require.debug&&n!=t&&void 0!=n)console.log(n);return n}});n.fire=n.trigger;n.firing=n.triggerHandler;t.mix=function(e){return $.extend(e,new t)};return t});define("tui/scrollLoader",[],function(){var e=$(window),t=e.height(),n=[],r={node:function(e,t){e=$(e);return this.y(e.offset()?e.offset().top:0,t?e.outerHeight(true):void 0)},y:function(e,t){this._y=e;this._s=t||0;return this},threshold:function(e){this._th=e;return this},size:function(e){this._s=e;return this},delay:function(e){this._d=e;return this},time:function(e){var t=this;t._t=e;setTimeout(function(){t.start()},e);return t},load:function(){this._cb=this._cb.concat(Array.prototype.slice.call(arguments,0));this._no&&n.push(this);this._no=false;this._f&&this.fire();this._f=false;return this},start:function(){this._enable&&this._cb.forEach(function(e){e()});return this.cancel()},cancel:function(){this.disable();for(var e=0,t=n.length;e<t;e++)if(n[e]==this){n.splice(e,1);break}},enable:function(){this._enable=true;return this},disable:function(){this._enable=false;return this},fire:function(n,r){n=n||e.scrollTop();r=r||t;var i=this;if(i._s){clearTimeout(i._timeout);i._timeout=setTimeout(function(){if(i._enable&&i._y<=n+r+i._th&&i._y+i._s>=n-i._th)a()},i._d)}else if(this._enable&&this._y<=n+r+this._th)a();function a(){i._cb.forEach(function(e){e()});i.cancel()}return this}},i=function(){this._y=0;this._th=0;this._d=0;this._s=0;this._cb=[];this._no=true;this._enable=true;this._timeout=null;this._f=true},a={};i.prototype=r;function o(){var r=e.scrollTop();n.concat().forEach(function(e){e.fire(r,t)})}e.bind("resize",function(){t=e.height();o()});e.bind("scroll",o);for(var s in r)!function(e){a[e]=function(){var t=new i;return t[e].apply(t,Array.prototype.slice.call(arguments,0))}}(s);return a});define("tui/lazyImageLoader",["tui/scrollLoader"],function(e){var t,n,r,i={};function a(i){i=i||{};n=i.size||300;r=i.attr||"alt";t=i.imgs||$("img.lazyImg");var a=[];t.each(function(){var e=$(this),t=e.offset(),n=t.top>0?t.top:e.parents(":visible")&&e.parents(":visible").offset()?e.parents(":visible").offset().top:0;o(n,this,a)});for(var s in a)if(a.hasOwnProperty(s)){var l=$(a[s]);l.each(function(){var t=this;e.y(s).threshold(n).load(function(){var e=$(t);e.attr("src",e.attr(r));e.removeAttr(r);if(e[0].className.indexOf("lazyImg")!==-1)e.removeClass("lazyImg")})})}}function o(e,t,r){e-=e%n;r[e]=r[e]||[];r[e].push(t)}return a});define("module/switchtab",["tui/lazyImageLoader","tui/event"],function(e,t){jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{easeInOutQuad:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t+n;return r/2*((t-=2)*t*t+2)+n}});function n(e){if(e&&e.tagName){var t="a"==e.tagName.toLowerCase()?$(e):$(e).find("a");t=t.length?t:$(e);return(t.attr("rel")||t.attr("href").replace(/.*#(\d+)$/,"$1")||1)-1}else return 0}function r(e){var t=arguments;for(var n=0,r=t.length;n<r;n++){var e=t[n];if(e)clearTimeout(e)}return null}var i=t.extend({initialize:function(t){var a=this;i.superClass.initialize.apply(a,arguments);a.op=t||{};a.op.slide=t.slide||false;a.op.linktab=t.linktab||false;a.op.clicktab=t.clicktab||false;a.op.lazyContent=t.lazyContent||window.gLazyContent||false;var o=a.box=$(t.box);var s=a.tab=$(t.tab||".tab li",o);var l=a.panel=$(t.panel||".c",o);a.size=s.length||l.length;a.loop=t.loop||0;a.current=n(s.filter(".current")[0]);if(a.op.slide){a.scroll=l.parent().parent();a.scroll.scrollLeft(0);e({imgs:l.eq(a.current).find(".lazyImg")});l.parent().append(l.eq(0).clone());a.panel=$(t.panel||".c",o);a.width=l.width();a.delay=t.delay||700;a.loop=(a.loop||5e3)+a.delay;a.anilock=false}if(a.size<2)return;if(a.op.clicktab)s.click(function(e){e.preventDefault();a.go(n(this))});else{if(!a.op.linktab)s.click(function(e){e.preventDefault()});s.mouseenter(function(){r(a.timer,a.looptimer);var e=this;a.timer=setTimeout(function(){a.go(n(e))},30)}).mouseleave(function(){r(a.timer,a.looptimer);a.start()})}if(a.loop){a.check(a.op.clicktab?s:null);a.start()}s.parent().on("click","a",function(e){var t=$(this).attr("href");if(!t||"#"==t||t.length<5)e.preventDefault()})},on:function(e,t){this.box.eventProxy(e,t);return this},go:function(e,t){var n=this;e=t?e:Math.min(Math.max(e,0),n.size-1);n.trigger("before",[n.current,e,n]);if(n.op.slide){if(n.anilock){n.nextstep=function(){n.animate(e,t)};return}n.animate(e,t)}else{var r=n.current;n.current=e%n.size;n.trigger("change",[n.current,n]);n.tab.removeClass("current").eq(n.current).addClass("current");var i=n.op.fade;var a=n.panel;i?a.eq(r).stop().fadeOut(100):a.hide();a.eq(n.current)[i?"fadeIn":"show"](n.op.duration?n.op.duration:"");n.trigger("after",[n.current,n])}},prev:function(e){this.go(this.current-1,e)},next:function(e){this.go(this.current+1,e)},start:function(e){var t=this;if(t.loop){r(t.looptimer);if(e)t.start();t.looptimer=setTimeout(function(){t.start();t.next(true)},t.loop)}},stop:function(){r(this.looptimer)},check:function(e){var t=this;(e||t.panel).mouseenter(function(){r(t.looptimer)}).mouseleave(function(){r(t.looptimer);t.start()})},animate:function(t,n){var i=this;var a=i.current;if(i.anilock||a==t)return;r(i.looptimer);var o=i.size,s=i.width,l=i.panel,u=i.scroll;var c=a>t?0:s;var f=a>t?s:0;t%=n?o+1:o;e({imgs:l.eq(t).show().find(".lazyImg")});u.scrollLeft(f);i.tab.removeClass("current").eq(t%o).addClass("current");u.animate({scrollLeft:c},i.delay,"easeInOutQuad",function(){l.eq(a).hide();if(n&&t==o){t%=o;e({imgs:l.eq(0).show().find(".lazyImg")});l.eq(o).hide()}u.scrollLeft(0);i.current=t;i.anilock=false;i.trigger("after",[i.current,i]);if(i.nextstep){i.nextstep();i.nextstep=null}if(n)i.start()});i.anilock=true}});return i});define("app/share",[],function(){return function(){window._bd_share_config={common:{bdSnsKey:{},bdText:"",bdMini:"2",bdPic:"",bdStyle:"0",bdSize:"16"},share:{},image:false,selectShare:false};with(document)0[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion="+~(-new Date/36e5)]}});define("tui/art",[],function(){var e=window;var t=function(e,n){return t["string"===typeof n?"compile":"render"].apply(t,arguments)};t.version="2.0.2";t.openTag="<%";t.closeTag="%>";t.isEscape=true;t.isCompress=false;t.parser=null;t.render=function(e,n){var r=t.get(e)||i({id:e,name:"Render Error",message:"No Template"});return r(n)};t.compile=function(e,r){var o=arguments;var s=o[2];var l="anonymous";if("string"!==typeof r){s=o[1];r=o[0];e=l}try{var u=a(e,r,s)}catch(c){c.id=e||r;c.name="Syntax Error";return i(c)}function f(n){try{return new u(n,e)+""}catch(a){if(!s)return t.compile(e,r,true)(n);return i(a)()}}f.prototype=u.prototype;f.toString=function(){return u.toString()};if(e!==l)n[e]=f;return f};var n=t.cache={};var r=t.helpers=function(){var e=function(t,n){if("string"!==typeof t){n=typeof t;if("number"===n)t+="";else if("function"===n)t=e(t.call(t));else t=""}return t};var n={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"};var r=function(t){return e(t).replace(/&(?![\w#]+;|#\d+)|[<>"']/g,function(e){return n[e]})};var i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)};var a=function(e,t){if(i(e))for(var n=0,r=e.length;n<r;n++)t.call(e,e[n],n,e);else for(n in e)t.call(e,e[n],n)};return{$include:t.render,$string:e,$escape:r,$each:a}}();t.helper=function(e,t){r[e]=t};t.onerror=function(t){var n="Template Error\n\n";for(var r in t)n+="<"+r+">\n"+t[r]+"\n\n";if(e.console)console.error(n)};t.get=function(r){var i;if(n.hasOwnProperty(r))i=n[r];else if("document"in e){var a=document.getElementById(r);if(a){var o=a.value||a.innerHTML;i=t.compile(r,o.replace(/^\s*|\s*$/g,""))}}return i};var i=function(e){t.onerror(e);return function(){return"{Template Error}"}};var a=function(){var e=r.$each;var n="break,case,catch,continue,debugger,default,delete,do,else,false"+",finally,for,function,if,in,instanceof,new,null,return,switch,this"+",throw,true,try,typeof,var,void,while,with"+",abstract,boolean,byte,char,class,const,double,enum,export,extends"+",final,float,goto,implements,import,int,interface,long,native"+",package,private,protected,public,short,static,super,synchronized"+",throws,transient,volatile"+",arguments,let,yield"+",undefined";var i=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g;var a=/[^\w$]+/g;var o=new RegExp(["\\b"+n.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g");var s=/^\d[^,]*|,\d[^,]*/g;var l=/^,+|,+$/g;var u=function(e){return e.replace(i,"").replace(a,",").replace(o,"").replace(s,"").replace(l,"").split(/^$|,+/)};return function(n,i,a){var o=t.openTag;var s=t.closeTag;var l=t.parser;var c=i;var f="";var p=1;var d={$data:1,$id:1,$helpers:1,$out:1,$line:1};var v={};var h="var $helpers=this,"+(a?"$line=0,":"");var g="".trim;var m=g?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"];var b=g?"if(content!==undefined){$out+=content;return content;}":"$out.push(content);";var y="function(content){"+b+"}";var $="function(id,data){"+"data=data||$data;"+"var content=$helpers.$include(id,data,$id);"+b+"}";e(c.split(o),function(e,t){e=e.split(s);var n=e[0];var r=e[1];if(1===e.length)f+=_(n);else{f+=k(n);if(r)f+=_(r)}});c=f;if(a)c="try{"+c+"}catch(e){"+"throw {"+"id:$id,"+"name:'Render Error',"+"message:e.message,"+"line:$line,"+"source:"+E(i)+".split(/\\n/)[$line-1].replace(/^[\\s\\t]+/,'')"+"};"+"}";c=h+m[0]+c+"return new String("+m[3]+");";try{var w=new Function("$data","$id",c);w.prototype=v;return w}catch(x){x.temp="function anonymous($data,$id) {"+c+"}";throw x}function _(e){p+=e.split(/\n/).length-1;if(t.isCompress)e=e.replace(/[\n\r\t\s]+/g," ").replace(/<!--.*?-->/g,"");if(e)e=m[1]+E(e)+m[2]+"\n";return e}function k(e){var n=p;if(l)e=l(e);else if(a)e=e.replace(/\n/g,function(){p++;return"$line="+p+";"});if(0===e.indexOf("=")){var i=0!==e.indexOf("==");e=e.replace(/^=*|[\s;]*$/g,"");if(i&&t.isEscape){var o=e.replace(/\s*\([^\)]+\)/,"");if(!r.hasOwnProperty(o)&&!/^(include|print)$/.test(o))e="$escape("+e+")"}else e="$string("+e+")";e=m[1]+e+m[2]}if(a)e="$line="+n+";"+e;z(e);return e+"\n"}function z(t){t=u(t);e(t,function(e){if(!d.hasOwnProperty(e)){T(e);d[e]=true}})}function T(e){var t;if("print"===e)t=y;else if("include"===e){v["$include"]=r["$include"];t=$}else{t="$data."+e;if(r.hasOwnProperty(e)){v[e]=r[e];if(0===e.indexOf("$"))t="$helpers."+e;else t=t+"===undefined?$helpers."+e+":"+t}}h+=e+"="+t+","}function E(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}}}();return t});define("app/nav",["tui/art"],function(e,t,n){function r(){$("#header").on("mouseenter",".icon-weixin",function(){$(this).find(".qrcode").css({display:"inline-block"})}).on("mouseleave",".share",function(){$(this).find(".qrcode").css({display:"none"})})}function i(e){e=$.extend({force:false,top:90,disabled:true},e);var t=$(window);var n=t.height();var r=$("#header .m-nav");var i=0;var a=e.top;if(e.disabled||!e.force&&$("body").height()<n+400)return;var o=t.scrollTop()<=a;if(!o){r.addClass("fixed");i=1}t.bind("scroll",function(){o=t.scrollTop()<=a;if(!o&&0===i){r.addClass("fixed");i=1}if(o&&1===i){r.removeClass("fixed");i=0}})}n.init=function(e){i(e);r()}});require(["app/nav","app/share","module/switchtab"],function(e,t,n){e.init({disabled:true});t();var r=$("#albumShow");var i=new n({box:r,panel:"li",slide:true,loop:3e5});r.bind("mouseenter",function(){i.stop()}).bind("mouseleave",function(){i.start()});r.delegate(".next","click",function(e){e.preventDefault();var t=i.current;if(t>i.size)alert("最后一张了！");else i.next(true)}).delegate(".prev","click",function(e){e.preventDefault();var t=i.current;if(t<1)alert("前面没有了！");else i.prev(true)})})}(window.jQuery);;